<!DOCTYPE html>
<html lang="es">
<head>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@latest/dist/email.min.js"></script>
</head>
<body>
    <main id="contact">
        <form id="contact-form">
            <label for="name">Nombre:</label>
            <input type="text" id="name" name="name" required>

            <label for="email">Correo Electrónico:</label>
            <input type="email" id="email" name="email" required>

            <label for="message">Mensaje:</label>
            <textarea id="message" name="message" required></textarea>

            <button type="submit">Enviar</button>
        </form>

        <script>
            emailjs.init('fkhChB_S1MTtFn4hY'); // Reemplazado con tu clave pública

            const form = document.getElementById('contact-form');

            form.addEventListener('submit', (event) => {
                event.preventDefault();

                // Validación del formulario (opcional, puedes agregar más)
                if (!isValidEmail(document.getElementById('email').value)) {
                    alert('Por favor, ingresa un correo electrónico válido.');
                    return;
                }

                emailjs.sendForm('service_qalhnfu', 'template_wht52os', form)
                    .then((result) => {
                        alert('¡Mensaje enviado correctamente!');
                        form.reset();
                    }, (error) => {
                        alert('Error al enviar el mensaje. Por favor, inténtalo de nuevo.', error);
                    });
            });

            // Función para validar el correo electrónico (opcional)
            function isValidEmail(email) {
                // Expresión regular para validar el formato del correo electrónico
                const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(String(email).toLowerCase());
            }
        </script>
    </main>
</body>
</html>
